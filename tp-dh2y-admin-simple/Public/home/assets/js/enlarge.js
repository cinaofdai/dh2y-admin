/*
    Enlarge for jQuery v1.1
    Abel Yao, 2013
    http://www.abelcode.com/
*/
(function(e){var t={shadecolor:"#FFD24D",shadeborder:"#FF8000",shadeopacity:.5,cursor:"move",layerwidth:400,layerheight:300,layerborder:"#DDD",fade:true,largewidth:1280,largeheight:960};var i=function(i){i=e.extend({},t,i);e(this).each(function(){var t=e(this).css("position","relative");var h=t.children().first();var r={x:h.width()/i.largewidth,y:h.height()/i.largeheight};var a={shade:{width:i.layerwidth*r.x-2,height:i.layerheight*r.y-2}};var o=e("<div>").css({position:"absolute",left:"0px",top:"0px","background-color":i.shadecolor,border:"1px solid "+i.shadeborder,width:a.shade.width,height:a.shade.height,opacity:i.shadeopacity,cursor:i.cursor});o.hide().appendTo(t);var d=e("<img>").css({position:"absolute",display:"block",width:i.largewidth,height:i.largeheight});var s=e("<div>").css({position:"absolute",left:t.width()+5,top:0,"background-color":"#111",overflow:"hidden",width:i.layerwidth,height:i.layerheight,border:"1px solid "+i.layerborder});d.attr("src",t.attr("href"));d.appendTo(s);s.hide().appendTo(t);var n={x:a.shade.width/2,y:a.shade.height/2};var l={width:t.innerWidth()-o.outerWidth(),height:t.innerHeight()-o.outerHeight()};var g=t.offset();var f=function(){g=t.offset();o.show();if(i.fade)s.stop().fadeIn(300);else s.show()};var c=function(){o.hide();s.hide()};t.mousemove(function(e){var i=e.pageX-g.left;var h=e.pageY-g.top;if(i<0||i>t.innerWidth())return c();if(h<0||h>t.innerHeight())return c();i=i-n.x;h=h-n.y;if(i<0)i=0;if(h<0)h=0;if(i>l.width)i=l.width;if(h>l.height)h=l.height;o.css({left:i,top:h});d.css({left:0-i/r.x,top:0-h/r.y})}).mouseenter(f).mouseleave(c)})};e.fn.extend({enlarge:i})})(jQuery);